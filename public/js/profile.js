/* 
 * 
 * Python CLI project
 * Framework version 2.0.6, Built on 06-25-2014
 * Copyright Â© 2014 SoftLayer, an IBM Company. All rights reserved.
 * Code and documentation licensed under MIT.
 * 
 */

$.getJSON("https://api.github.com/repos/softlayer/softlayer-python/contributors?callback=?",function(a){numContributors=a.data,$(function(){$("#github-contributors").text(numContributors.length)})}),$.ajax({url:"https://api.github.com/repos/softlayer/softlayer-python?callback?",dataType:"jsonp",success:function(a){numStargazers=a.data,$("#github-stargazers").text(numStargazers.stargazers_count)}}),$.ajax({url:"https://api.github.com/repos/softlayer/softlayer-python/tags?callback?",dataType:"jsonp",success:function(a){lastTag=a.data[0],$("#github-version").text(lastTag.name)}}),function(a){return repoUrl=function(a){return repoUrls[a.name]||a.html_url},repoDescription=function(a){return repoDescriptions[a.name]||a.description},addRepo=function(b){$item=a("<li>").addClass("repo name "+(b.language||"").toLowerCase()),$link=a("<a>").attr("href",repoUrl(b)).attr("target","_blank").appendTo($item),$link.append(a("<h2>").text(b.name)),$link.append(a("<h4>").text(b.language)),$link.append(a("<h5>").text(b.watchers)),$link.append(a("<h6>").text(b.forks)),$link.append(a("<p>").text(repoDescription(b))),$item.appendTo("#repos")},addRepos=function(b,c){b=b||[],c=c||1,uri="https://api.github.com/orgs/softlayer/repos?callback=?&per_page=50&page="+c,a.getJSON(uri,function(d){return d.data&&d.data.length>0?(b=b.concat(d.data),addRepos(b,c+1)):void a(function(){return a("#github-repos").text(b.length),a.each(b,function(a,b){return b.pushed_at=new Date(b.pushed_at),weekHalfLife=1.146*Math.pow(10,-9),pushDelta="new Date"-Date.parse(b.pushed_at),createdDelta="new Date"-Date.parse(b.created_at),weightForPush=1,weightForWatchers=1.314*Math.pow(10,7),b.popularity=weightForPush*Math.pow(Math.E,-1*weekHalfLife*pushDelta),b.popularity+=weightForWatchers*b.watchers/createdDelta}),b.sort(function(a,b){return a.popularity<b.popularity?1:b.popularity<a.popularity?-1:void 0}),a.each(b,function(a,b){return addRepo(b)}),b.sort(function(a,b){return a.pushed_at<b.pushed_at?1:b.pushed_at<a.pushed_at?-1:void 0})})})},repoUrls={"":""},repoDescriptions={"":""},addRepos()}(jQuery);